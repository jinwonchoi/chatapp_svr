{"version":3,"sources":["webpack:///./src/views/apps/noticeboard/NoticeEdit.vue?7896","webpack:///src/views/apps/noticeboard/NoticeEdit.vue","webpack:///./src/views/apps/noticeboard/NoticeEdit.vue?5671","webpack:///./src/views/apps/noticeboard/NoticeEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","validateForm","activePrompt","on","saveNotice","init","$event","class","postTypeColor","_v","_s","postType","staticStyle","_l","noticeType","index","key","updateNoticeType","type","name","toLocale","noticeLocal","updatedDtm","registerUserInfo","userName","directives","rawName","value","expression","model","callback","$$v","$set","staticRenderFns","props","showEdit","Boolean","required","noticeData","Object","data","assign","computed","get","set","$emit","noticeTypes","$store","state","noticeBoard","errors","any","title","methods","removeNotice","dispatch","id","console","log","created","component"],"mappings":"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","file":"js/chunk-2d0bac2d.7b379e0a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-prompt',{staticClass:\".notice-dialog\",attrs:{\"title\":\"Edit Notice\",\"accept-text\":\"Save\",\"cancel-text\":\"Close\",\"button-cancel\":\"border\",\"is-valid\":_vm.validateForm,\"active\":_vm.activePrompt},on:{\"accept\":_vm.saveNotice,\"close\":_vm.init,\"update:active\":function($event){_vm.activePrompt=$event}}},[_c('div',[_c('form',[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col flex\"},[_c('vs-dropdown',{staticClass:\"cursor-pointer flex\",attrs:{\"vs-custom-content\":\"\"}},[_c('a',{staticClass:\"flex items-center\",attrs:{\"href\":\"#\"}},[_c('vs-chip',[_c('div',{staticClass:\"h-2 w-2 rounded-full mr-1\",class:'bg-' + _vm.postTypeColor}),_c('span',[_vm._v(_vm._s(_vm.postType))])]),_c('i',{staticClass:\"material-icons\"},[_vm._v(\"expand_more\")])],1),_c('vs-dropdown-menu',{staticStyle:{\"z-index\":\"200001\"}},_vm._l((_vm.noticeTypes),function(noticeType,index){return _c('vs-dropdown-item',{key:index,on:{\"click\":function($event){return _vm.updateNoticeType(noticeType.type)}}},[_vm._v(\"\\n                            \"+_vm._s(noticeType.name)+\"\\n                        \")])}),1)],1)],1),_c('div',{staticClass:\"vx-col ml-auto flex dropdown-button-container\"},[_c('p',[_vm._v(_vm._s(_vm.toLocale(_vm.noticeLocal.updatedDtm))+\" \"),_c('span',[_c('br'),_vm._v(\" by \"+_vm._s(_vm.noticeLocal.registerUserInfo?_vm.noticeLocal.registerUserInfo.userName:\"None\"))])])])]),_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col w-full notice-content\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full mb-4 mt-5\",attrs:{\"name\":\"title\",\"placeholder\":\"Title\"},model:{value:(_vm.noticeLocal.title),callback:function ($$v) {_vm.$set(_vm.noticeLocal, \"title\", $$v)},expression:\"noticeLocal.title\"}}),_c('vs-textarea',{attrs:{\"rows\":\"5\",\"label\":\"Add description\"},model:{value:(_vm.noticeLocal.content),callback:function ($$v) {_vm.$set(_vm.noticeLocal, \"content\", $$v)},expression:\"noticeLocal.content\"}})],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\n  File Name: NoticeEdit.vue\n  Description: Notice Edit Page\n========================================================================================== -->\n<template>\n    <vs-prompt\n        title=\"Edit Notice\"\n        accept-text = \"Save\"\n        cancel-text = \"Close\"\n        button-cancel=\"border\"\n        @accept=\"saveNotice\"\n        @close=\"init\"\n        :is-valid=\"validateForm\"\n        :active.sync=\"activePrompt\"\n        class=\".notice-dialog\"\n        >\n        <div>\n            <form>\n                <div class=\"vx-row\">\n                  <div class=\"vx-col flex\">\n                    <vs-dropdown class=\"cursor-pointer flex\" vs-custom-content>\n                      <a class=\"flex items-center\" href=\"#\">\n                        <vs-chip>\n                          <div class=\"h-2 w-2 rounded-full mr-1\" :class=\"'bg-' + postTypeColor\"></div>\n                          <span>{{ postType }}</span>\n                        </vs-chip>\n                        <i class=\"material-icons\">expand_more</i>\n                      </a>\n                      <!-- <vs-button class=\"btn-drop\" type=\"filled\" icon=\"expand_more\"></vs-button> -->\n                      <vs-dropdown-menu style=\"z-index: 200001\">\n                            <vs-dropdown-item v-for=\"(noticeType, index) in noticeTypes\" :key=\"index\" @click=\"updateNoticeType(noticeType.type)\">\n                                {{ noticeType.name }}\n                            </vs-dropdown-item>\n                      </vs-dropdown-menu>\n                    </vs-dropdown>\n                  </div>\n                  <div class=\"vx-col ml-auto flex dropdown-button-container\">\n                    <p>{{ toLocale(noticeLocal.updatedDtm) }} <span><br> by {{ noticeLocal.registerUserInfo?noticeLocal.registerUserInfo.userName:\"None\" }}</span></p>\n                  </div>\n                </div>\n                <div class=\"vx-row\">\n                  <div class=\"vx-col w-full notice-content\">\n                    <vs-input v-validate=\"'required'\" name=\"title\" class=\"w-full mb-4 mt-5\" placeholder=\"Title\" v-model=\"noticeLocal.title\" />\n                    <vs-textarea rows=\"5\" label=\"Add description\" v-model=\"noticeLocal.content\" />\n                  </div>\n                </div>\n            </form>\n        </div>\n    </vs-prompt>\n</template>\n\n\n<script>\n\nexport default {\n  props: {\n    showEdit: {\n      type: Boolean,\n      required: true\n    },\n    noticeData: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      noticeLocal: Object.assign({}, this.noticeData)\n    }\n  },\n  computed: {\n    activePrompt: {\n      get () {\n        return this.showEdit\n      },\n      set (value) {\n        this.$emit('hideEdit', value)\n      }\n    },\n    toLocale() {\n      return (theTime) => new Date(theTime).toLocaleString()\n    },\n    noticeTypes() {\n      return this.$store.state.noticeBoard.noticeTypes\n    },\n    postType: function() {\n      //return this.localPostType\n        const _postType = this.noticeLocal.postType\n        if (_postType === 'S') return \"Schedule\"//calendar\n        else if (_postType === 'U') return \"Urgent\" //\n        else if (_postType === 'W') return \"Biz\"\n        else //if (_postType === 'N') \n          return \"Normal\"\n    },\n    postTypeColor() {\n      const _postType = this.noticeLocal.postType\n        if (_postType === 'S') return \"primary\"\n        else if (_postType === 'U') return \"danger\"\n        else if (_postType === 'W') return \"warning\"\n        else //if (_postType === 'N') \n          return \"success\"\n    },\n    validateForm () {\n      return !this.errors.any() && this.noticeLocal.title !== ''\n    }\n\n  },\n  methods: {\n    removeNotice () {\n      this.$store.dispatch('noticeBoard/deleteNotice', this.noticeLocal.id)\n        .then(() => {\n          // Fetch Tasks\n          this.$store.dispatch('noticeBoard/fetchNotices', this.$store.state.noticeBoard.queryParam)\n        })\n        .catch((error) => { console.error(error) })\n    },\n    init () {\n      console.log(\"init\")\n      //this.noticeData = Object.assign({}, this.$store.getters['noticeBoard/getNotice'](this.noticeData.id))\n    },\n    saveNotice () {\n      this.$store.dispatch('noticeBoard/updateNotice', this.noticeLocal)\n    },\n    updateNoticeType (type) {\n      this.noticeLocal.postType = type\n    }\n  },\n  created () {\n    // Register Module UserManagement Module\n    // if (!moduleNoticeBoard.isRegistered) {\n    //   this.$store.registerModule('noticeBoard', moduleNoticeBoard)\n    //   moduleNoticeBoard.isRegistered = true\n    // }\n    //this.fetch_notice_data(this.$route.params.idd)\n  }\n}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoticeEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoticeEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NoticeEdit.vue?vue&type=template&id=2e2d8c1d&\"\nimport script from \"./NoticeEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./NoticeEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}