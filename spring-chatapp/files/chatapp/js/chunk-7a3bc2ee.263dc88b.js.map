{"version":3,"sources":["webpack:///./src/views/apps/chat/Chat.vue?daa3","webpack:///./src/views/apps/chat/Chat.vue?6b4d","webpack:///./src/views/apps/chat/ChatContact.vue?90dc","webpack:///src/views/apps/chat/ChatContact.vue","webpack:///./src/views/apps/chat/ChatContact.vue?9ee9","webpack:///./src/views/apps/chat/ChatContact.vue","webpack:///./src/views/apps/chat/ChatLog.vue?ffeb","webpack:///src/views/apps/chat/ChatLog.vue","webpack:///./src/views/apps/chat/ChatLog.vue?b1a6","webpack:///./src/views/apps/chat/ChatLog.vue","webpack:///./src/views/apps/chat/ChatNavbar.vue?2eb4","webpack:///src/views/apps/chat/ChatNavbar.vue","webpack:///./src/views/apps/chat/ChatNavbar.vue?ed3a","webpack:///./src/views/apps/chat/ChatNavbar.vue","webpack:///./src/views/apps/chat/UserProfile.vue?2a58","webpack:///src/views/apps/chat/UserProfile.vue","webpack:///./src/views/apps/chat/UserProfile.vue?2b20","webpack:///./src/views/apps/chat/UserProfile.vue","webpack:///src/views/apps/chat/Chat.vue","webpack:///./src/views/apps/chat/Chat.vue?a1df","webpack:///./src/views/apps/chat/Chat.vue?e510"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","clickNotClose","model","value","callback","$$v","isChatSidebarActive","expression","searchQuery","on","$event","toggleChatSidebar","scrollbarTag","key","$vs","rtl","tag","settings","_v","_l","chatSession","index","updateActiveChatSession","id","updatedDtm","lastMessage","isActiveChatSession","class","activeChatSession","isChatPinned","showProfileSidebar","toggleIsChatPinned","ref","_e","hasChatConsultDetails","agentId","activeUser","type","indexOf","_k","keyCode","sendMsg","typedMessage","takeChatSession","staticRenderFns","isActiveChatUser","contact","photoURL","_s","displayName","showLastMsg","$store","getters","uid","textContent","about","_f","lastMessaged","unseenMsg","props","component","chatData","msg","isSameDay","createdDtm","toDate","hasSentPreviousMsg","inbound","senderImg","message","Object","required","computed","console","log","aa","chatConsultDetails","activeUserImg","URL","isSentByActiveUser","methods","date_time_to","getFullYear","date_time_from","month","scrollToBottom","$nextTick","updated","mounted","userDetails","stopPropagation","$emit","userImg","profileUrl","getStatusColor","userName","customer","customerId","state","AppActiveUser","photoUrl","chatSessionId","Number","isPinnedProp","Boolean","isSidebarCollapsed","isPinnedLocal","get","set","val","agentInfo","customerInfo","userStatus","getUserStatus","isActiveUser","isLoggedInUser","activeLocal","slot","chatUser","statusColor","counterDanger","status","userId","active","data","maxScrollbarLength","wheelSpeed","components","VuePerfectScrollbar","isHidden","searchContact","activeProfileSidebar","userProfileId","isLoggedInUserProfileView","watch","windowWidth","setSidebarWidth","chat","chatSearchQuery","dispatch","chatSessions","contacts","closeProfileSidebar","sessionId","activeChatId","isPinned","openOnLeft","payload","scroll_el","scrollTop","$refs","chatLog","scrollHeight","ChatContact","UserProfile","ChatNavbar","ChatLog","ChatSession","created","beforeDestroy","$stomp","disconnect","connect"],"mappings":"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","file":"js/chunk-7a3bc2ee.263dc88b.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"border border-solid d-theme-border-grey-light rounded relative overflow-hidden\",attrs:{\"id\":\"chat-app\"}},[_c('vs-sidebar',{staticClass:\"items-no-padding\",attrs:{\"parent\":\"#chat-app\",\"click-not-close\":_vm.clickNotClose,\"hidden-background\":_vm.clickNotClose,\"id\":\"chat-list-sidebar\"},model:{value:(_vm.isChatSidebarActive),callback:function ($$v) {_vm.isChatSidebarActive=$$v},expression:\"isChatSidebarActive\"}},[_c('div',{staticClass:\"chat__profile-search flex p-4\"},[_c('vs-input',{staticClass:\"w-full mx-5 input-rounded-full\",attrs:{\"icon-no-border\":\"\",\"icon\":\"icon-search\",\"icon-pack\":\"feather\",\"placeholder\":\"Search or start a new chat\"},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('feather-icon',{staticClass:\"md:inline-flex lg:hidden -ml-3 cursor-pointer\",attrs:{\"icon\":\"XIcon\"},on:{\"click\":function($event){return _vm.toggleChatSidebar(false)}}})],1),_c('vs-divider',{staticClass:\"d-theme-border-grey-light m-0\"}),_c(_vm.scrollbarTag,{key:_vm.$vs.rtl,tag:\"component\",staticClass:\"chat-scroll-area pt-4\",attrs:{\"settings\":_vm.settings}},[_c('div',{staticClass:\"chat__chats-list mb-8\"},[_c('h3',{staticClass:\"text-primary mb-5 px-4\"},[_vm._v(\"Chats\")]),_c('ul',{staticClass:\"chat__active-chats bordered-items\"},_vm._l((_vm.chatSessions),function(chatSession,index){return _c('li',{key:index,staticClass:\"cursor-pointer\",on:{\"click\":function($event){return _vm.updateActiveChatSession(chatSession.id)}}},[_c('chat-session',{attrs:{\"showLastMsg\":\"\",\"chatSession\":chatSession,\"lastMessaged\":chatSession.updatedDtm,\"lastMessage\":chatSession.lastMessage,\"isActiveChatSession\":_vm.isActiveChatSession(chatSession.id)}})],1)}),0)])])],1),_c('div',{staticClass:\"chat__bg no-scroll-content chat-content-area border border-solid d-theme-border-grey-light border-t-0 border-r-0 border-b-0\",class:{'sidebar-spacer--wide': _vm.clickNotClose, 'flex items-center justify-center': _vm.activeChatSession === null}},[(_vm.activeChatSession)?[_c('div',{staticClass:\"chat__navbar\"},[_c('chat-navbar',{attrs:{\"isSidebarCollapsed\":!_vm.clickNotClose,\"chatSessionId\":_vm.activeChatSession.id,\"isPinnedProp\":_vm.isChatPinned},on:{\"openContactsSidebar\":function($event){return _vm.toggleChatSidebar(true)},\"showProfileSidebar\":_vm.showProfileSidebar,\"toggleIsChatPinned\":_vm.toggleIsChatPinned}})],1),_c(_vm.scrollbarTag,{key:_vm.$vs.rtl,ref:\"chatLogPS\",tag:\"component\",staticClass:\"chat-content-scroll-area border border-solid d-theme-border-grey-light\",attrs:{\"settings\":_vm.settings}},[_c('div',{ref:\"chatLog\",staticClass:\"chat__log\"},[(_vm.activeChatSession)?_c('chat-log',{attrs:{\"chatSession\":_vm.activeChatSession}}):_vm._e()],1)]),((_vm.hasChatConsultDetails && (_vm.activeChatSession.agentId === _vm.activeUser.agentId)))?_c('div',{staticClass:\"chat__input flex p-4 bg-white\"},[_c('vs-input',{staticClass:\"flex-1\",attrs:{\"placeholder\":\"Type Your Message\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMsg($event)}},model:{value:(_vm.typedMessage),callback:function ($$v) {_vm.typedMessage=$$v},expression:\"typedMessage\"}}),_c('vs-button',{staticClass:\"bg-primary-gradient ml-4\",attrs:{\"type\":\"filled\"},on:{\"click\":_vm.sendMsg}},[_vm._v(\"Send\")])],1):((_vm.hasChatConsultDetails && (_vm.activeChatSession.agentId !== _vm.activeUser.agentId)))?_c('div',{staticClass:\"chat__input flex p-4\"}):_c('div',{staticClass:\"chat__input flex p-4 bg-white\"},[_c('vs-button',{staticClass:\"bg-primary-gradient ml-4\",attrs:{\"type\":\"filled\"},on:{\"click\":_vm.takeChatSession}},[_vm._v(\"Pick this chat\")])],1)]:void 0],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat__contact flex items-center px-2 pt-4 pb-2\",class:{'bg-primary-gradient text-white shadow-lg': _vm.isActiveChatUser}},[_c('div',{staticClass:\"contact__avatar mr-1\"},[_c('vs-avatar',{staticClass:\"border-2 border-solid border-white\",attrs:{\"src\":_vm.contact.photoURL,\"size\":\"42px\"}})],1),_c('div',{staticClass:\"contact__container w-full flex items-center justify-between overflow-hidden\"},[_c('div',{staticClass:\"contact__info flex flex-col truncate w-5/6\"},[_c('h5',{staticClass:\"font-semibold\",class:{'text-white': _vm.isActiveChatUser}},[_vm._v(_vm._s(_vm.contact.displayName))]),_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(_vm.showLastMsg ? _vm.$store.getters['chat/chatLastMessaged'](_vm.contact.uid).textContent : _vm.contact.about))])]),_c('div',{staticClass:\"chat__contact__meta flex self-start flex-col items-end w-1/6\"},[_c('span',{staticClass:\"whitespace-no-wrap\"},[_vm._v(_vm._s(_vm._f(\"date\")(_vm.lastMessaged)))]),(_vm.unseenMsg)?_c('vs-chip',{staticClass:\"number\",attrs:{\"color\":\"primary\"}},[_vm._v(_vm._s(_vm.unseenMsg))]):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\n    File Name: ChatContact.vue\n    Description: Chat contact - single component for chat\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n    <div class=\"chat__contact flex items-center px-2 pt-4 pb-2\" :class=\"{'bg-primary-gradient text-white shadow-lg': isActiveChatUser}\">\n        <div class=\"contact__avatar mr-1\">\n            <vs-avatar class=\"border-2 border-solid border-white\" :src=\"contact.photoURL\" size=\"42px\" />\n        </div>\n        <div class=\"contact__container w-full flex items-center justify-between overflow-hidden\">\n            <div class=\"contact__info flex flex-col truncate w-5/6\">\n                <h5 class=\"font-semibold\" :class=\"{'text-white': isActiveChatUser}\">{{ contact.displayName }}</h5>\n                <span class=\"truncate\">{{ showLastMsg ? $store.getters['chat/chatLastMessaged'](contact.uid).textContent : contact.about }}</span>\n            </div>\n\n            <div class=\"chat__contact__meta flex self-start flex-col items-end w-1/6\">\n                <span class=\"whitespace-no-wrap\">{{ lastMessaged | date }}</span>\n                <vs-chip class=\"number\" color=\"primary\" v-if=\"unseenMsg\">{{ unseenMsg }}</vs-chip>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    contact          : { type: Object,  required: true },\n    isActiveChatUser : { type: Boolean },\n    lastMessaged     : { type: String,  default : '' },\n    showLastMsg      : { type: Boolean, default: false },\n    unseenMsg        : { type: Number,  default : 0 }\n  }\n}\n</script>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatContact.vue?vue&type=template&id=17bb5006&\"\nimport script from \"./ChatContact.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatContact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.chatData)?_c('div',{staticClass:\"m-8\",attrs:{\"id\":\"component-chat-log\"}},_vm._l((_vm.chatData.msg),function(msg,index){return _c('div',{key:index,staticClass:\"msg-grp-container\"},[(_vm.chatData.msg[index-1])?[(!_vm.isSameDay(msg.createdDtm, _vm.chatData.msg[index-1].createdDtm))?_c('vs-divider',{staticClass:\"msg-time\"},[_c('span',[_vm._v(_vm._s(_vm.toDate(msg.createdDtm)))])]):_vm._e(),(!_vm.hasSentPreviousMsg(_vm.chatData.msg[index-1].inbound, msg.inbound))?_c('div',{staticClass:\"spacer mt-8\"}):_vm._e()]:_vm._e(),_c('div',{staticClass:\"flex items-start\",class:[{'flex-row-reverse' : !msg.inbound}]},[(_vm.chatData.msg[index-1])?[((!_vm.hasSentPreviousMsg(_vm.chatData.msg[index-1].inbound, msg.inbound) || !_vm.isSameDay(msg.createdDtm, _vm.chatData.msg[index-1].createdDtm)))?[_c('vs-avatar',{staticClass:\"border-2 shadow border-solid border-white m-0 flex-shrink-0\",class:msg.inbound ? 'sm:ml-5 ml-3' : 'sm:mr-5 mr-3',attrs:{\"size\":\"40px\",\"src\":_vm.senderImg(msg.inbound)}})]:_vm._e()]:_vm._e(),(index == 0)?[_c('vs-avatar',{staticClass:\"border-2 shadow border-solid border-white m-0 flex-shrink-0\",class:msg.inbound ? 'sm:ml-5 ml-3' : 'sm:mr-5 mr-3',attrs:{\"size\":\"40px\",\"src\":_vm.senderImg(msg.inbound)}})]:_vm._e(),(_vm.chatData.msg[index-1])?[(!(!_vm.hasSentPreviousMsg(_vm.chatData.msg[index-1].inbound, msg.inbound) || !_vm.isSameDay(msg.createdDtm, _vm.chatData.msg[index-1].createdDtm)))?_c('div',{staticClass:\"mr-16\"}):_vm._e()]:_vm._e(),_c('div',{staticClass:\"msg break-words relative shadow-md rounded py-3 px-4 mb-2 rounded-lg max-w-sm\",class:{'bg-primary-gradient text-white'\n            : msg.inbound, 'border border-solid border-transparent bg-white': !msg.inbound}},[_c('span',[_vm._v(_vm._s(msg.message))])])],2)],2)}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\n    File Name: ChatLog.vue\n    Description: Chat Application - Log of chat\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n    <div id=\"component-chat-log\" class=\"m-8\" v-if=\"chatData\">\n        <div v-for=\"(msg, index) in chatData.msg\" class=\"msg-grp-container\" :key=\"index\">\n\n            <!-- If previous msg is older than current time -->\n            <template v-if=\"chatData.msg[index-1]\">\n                <vs-divider v-if=\"!isSameDay(msg.createdDtm, chatData.msg[index-1].createdDtm)\" class=\"msg-time\">\n                    <span>{{ toDate(msg.createdDtm) }}</span>\n                </vs-divider>\n                <div class=\"spacer mt-8\" v-if=\"!hasSentPreviousMsg(chatData.msg[index-1].inbound, msg.inbound)\"></div>\n            </template>\n\n            <div class=\"flex items-start\" :class=\"[{'flex-row-reverse' : !msg.inbound}]\">\n\n                <template v-if=\"chatData.msg[index-1]\">\n                    <template v-if=\"(!hasSentPreviousMsg(chatData.msg[index-1].inbound, msg.inbound) || !isSameDay(msg.createdDtm, chatData.msg[index-1].createdDtm))\">\n                        <vs-avatar size=\"40px\" class=\"border-2 shadow border-solid border-white m-0 flex-shrink-0\" :class=\"msg.inbound ? 'sm:ml-5 ml-3' : 'sm:mr-5 mr-3'\" \n                        :src=\"senderImg(msg.inbound)\"></vs-avatar>\n                    </template>\n                </template>\n\n                <template v-if=\"index == 0\">\n                    <vs-avatar size=\"40px\" class=\"border-2 shadow border-solid border-white m-0 flex-shrink-0\" :class=\"msg.inbound ? 'sm:ml-5 ml-3' : 'sm:mr-5 mr-3'\" \n                    :src=\"senderImg(msg.inbound)\"></vs-avatar>\n                </template>\n\n                <template v-if=\"chatData.msg[index-1]\">\n                    <div class=\"mr-16\" v-if=\"!(!hasSentPreviousMsg(chatData.msg[index-1].inbound, msg.inbound) || !isSameDay(msg.createdDtm, chatData.msg[index-1].createdDtm))\"></div>\n                </template>\n\n                <div class=\"msg break-words relative shadow-md rounded py-3 px-4 mb-2 rounded-lg max-w-sm\" :class=\"{'bg-primary-gradient text-white'\n                : msg.inbound, 'border border-solid border-transparent bg-white': !msg.inbound}\">\n                    <span>{{ msg.message }}</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default{\n  props: {\n    chatSession: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    chatData () {\n      if (this.chatSession['chatConsultDetails']) {\n        const aa = this.$store.getters['chat/chatMessagesOfChatId'](this.chatSession.chatConsultDetails.id)\n        console.log(aa)\n        // aa.msg.forEach( (msg) => {\n        //   console.log(\"==========================\")\n        //   console.log(msg.message)\n        // })\n        return this.$store.getters['chat/chatMessagesOfChatId'](this.chatSession.chatConsultDetails.id)\n      } else {\n        return { \"msg\": this.$store.getters['chat/waitingMessages'] }\n      }\n    },\n    activeUserImg () {\n      const URL = process.env.NODE_ENV === 'production'?process.env.VUE_APP_PROD_URL: process.env.VUE_APP_DEV_URL\n      return URL+this.$store.state.AppActiveUser.profileUrl\n    },\n    senderImg () {\n      const URL = process.env.NODE_ENV === 'production'?process.env.VUE_APP_PROD_URL: process.env.VUE_APP_DEV_URL\n      const defaultUrl = \"/files/profile/default.jpg\"\n      return (isSentByActiveUser) => {\n        if (isSentByActiveUser) return URL+process.env.VUE_APP_DEFAULT_AVATAR_URL //this.$store.state.AppActiveUser.profileUrl\n        else if (this.chatSession['agentInfo']) \n          return URL+this.chatSession.agentInfo.profileUrl\n      }\n    },\n    hasSentPreviousMsg () {\n      return (last_sender, current_sender) => last_sender === current_sender\n    }\n  },\n  methods: {\n    isSameDay (time_to, time_from) {\n      const date_time_to = new Date(Date.parse(time_to))\n      const date_time_from = new Date(Date.parse(time_from))\n      return date_time_to.getFullYear() === date_time_from.getFullYear() &&\n                date_time_to.getMonth() === date_time_from.getMonth() &&\n                date_time_to.getDate() === date_time_from.getDate()\n    },\n    toDate (time) {\n      const locale = 'en-us'\n      const date_obj = new Date(Date.parse(time))\n      const monthName = date_obj.toLocaleString(locale, {\n        month: 'short'\n      })\n      return `${date_obj.getDate()  } ${   monthName}`\n    },\n    scrollToBottom () {\n      this.$nextTick(() => {\n        this.$parent.$el.scrollTop = this.$parent.$el.scrollHeight\n      })\n    }\n  },\n  updated () {\n    this.scrollToBottom()\n  },\n  mounted () {\n    this.scrollToBottom()\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatLog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatLog.vue?vue&type=template&id=4f917732&\"\nimport script from \"./ChatLog.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatLog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.userDetails != null)?_c('div',{staticClass:\"chat__header\"},[_c('vs-navbar',{staticClass:\"p-4 flex navbar-custom\",attrs:{\"color\":\"white\",\"type\":\"flat\"}},[_c('div',{staticClass:\"relative flex mr-4\"},[(_vm.isSidebarCollapsed)?_c('feather-icon',{staticClass:\"mr-4 cursor-pointer\",attrs:{\"icon\":\"MenuIcon\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('openContactsSidebar')}}}):_vm._e(),_c('vs-avatar',{staticClass:\"m-0 border-2 border-solid border-white\",attrs:{\"size\":\"40px\",\"src\":_vm.userImg(_vm.userDetails.profileUrl)},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('showProfileSidebar', _vm.userDetails.id)}}}),_c('div',{staticClass:\"h-3 w-3 border-white border border-solid rounded-full absolute right-0 bottom-0\",class:'bg-' + _vm.getStatusColor(false)})],1),_c('h6',[_vm._v(_vm._s(_vm.userDetails.userName)+\" with \"+_vm._s(_vm.customer.customerId))]),_c('vs-spacer')],1)],1):_c('div',{staticClass:\"chat__header\"},[_c('vs-navbar',{staticClass:\"p-4 flex navbar-custom\",attrs:{\"color\":\"white\",\"type\":\"flat\"}},[_c('div',{staticClass:\"relative flex mr-4\"},[(_vm.isSidebarCollapsed)?_c('feather-icon',{staticClass:\"mr-4 cursor-pointer\",attrs:{\"icon\":\"MenuIcon\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('openContactsSidebar')}}}):_vm._e(),_c('vs-avatar',{staticClass:\"m-0 border-2 border-solid border-white\",attrs:{\"size\":\"40px\",\"src\":_vm.userImg(this.$store.state.AppActiveUser.photoUrl)}}),_c('div',{staticClass:\"h-3 w-3 border-white border border-solid rounded-full absolute right-0 bottom-0\",class:'bg-' + _vm.getStatusColor(false)})],1),_c('h6',[_vm._v(_vm._s(_vm.customer.customerId))]),_c('vs-spacer')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\n    File Name: ChatNavbar.vue\n    Description: Chat Application - Chat navbar\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n    <div v-if=\"userDetails != null\" class=\"chat__header\">\n        <vs-navbar class=\"p-4 flex navbar-custom\" color=\"white\" type=\"flat\">\n            <div class=\"relative flex mr-4\">\n                <feather-icon icon=\"MenuIcon\" class=\"mr-4 cursor-pointer\" v-if=\"isSidebarCollapsed\" @click.stop=\"$emit('openContactsSidebar')\" />\n                <vs-avatar class=\"m-0 border-2 border-solid border-white\" size=\"40px\" :src=\"userImg(userDetails.profileUrl)\" @click.stop=\"$emit('showProfileSidebar', userDetails.id)\" />\n                <div class=\"h-3 w-3 border-white border border-solid rounded-full absolute right-0 bottom-0\" :class=\"'bg-' + getStatusColor(false)\"></div>\n            </div>\n            <h6>{{ userDetails.userName }} with {{ customer.customerId }}</h6>\n            <vs-spacer></vs-spacer>\n            <!-- <feather-icon icon=\"StarIcon\" class=\"cursor-pointer\" :svgClasses=\"[{'text-warning stroke-current': isPinnedLocal}, 'w-6', 'h-6']\" @click.stop=\"isPinnedLocal = !isPinnedLocal\"></feather-icon> -->\n        </vs-navbar>\n    </div>\n    <div v-else class=\"chat__header\">\n        <vs-navbar class=\"p-4 flex navbar-custom\" color=\"white\" type=\"flat\">\n            <div class=\"relative flex mr-4\">\n                <feather-icon icon=\"MenuIcon\" class=\"mr-4 cursor-pointer\"  v-if=\"isSidebarCollapsed\" @click.stop=\"$emit('openContactsSidebar')\" />\n                <vs-avatar class=\"m-0 border-2 border-solid border-white\" size=\"40px\" :src=\"userImg(this.$store.state.AppActiveUser.photoUrl)\" />\n                <div class=\"h-3 w-3 border-white border border-solid rounded-full absolute right-0 bottom-0\" :class=\"'bg-' + getStatusColor(false)\"></div>\n            </div>\n            <h6>{{ customer.customerId }}</h6>\n            <vs-spacer></vs-spacer>\n        </vs-navbar>\n    </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    chatSessionId: {\n      type: Number,\n      required: true\n    },\n    isPinnedProp: {\n      type: Boolean,\n      required: true\n    },\n    isSidebarCollapsed: {\n      type: Boolean,\n      required: true\n    }\n  },\n  computed: {\n    isPinnedLocal: {\n      get () {\n        return this.isPinnedProp\n      },\n      set (val) {\n        // const chatSession = this.$store.getters['chat/chatSession'](this.chatSessionId)\n        // if (chatData) {\n        //   const payload = { id: this.userId, value: val }\n        //   this.$store.dispatch('chat/toggleIsPinned', payload)\n        //     .then(() => { this.$emit('toggleIsChatPinned', val) })\n        //     .catch((err) => { console.error(err) })\n        // } else {\n        //   this.$emit('toggleIsChatPinned', val)\n        // }\n        this.$emit('toggleIsChatPinned', val)\n      }\n    },\n    userImg() {\n      const URL = process.env.NODE_ENV === 'production'?process.env.VUE_APP_PROD_URL: process.env.VUE_APP_DEV_URL\n      return (profileUrl) => {\n        return URL+profileUrl\n      }\n    },\n    userDetails () {\n      return this.$store.getters['chat/chatSession'](this.chatSessionId).agentInfo\n    },\n    customer () {\n      return this.$store.getters['chat/chatSession'](this.chatSessionId).customerInfo\n    },\n    getStatusColor () {\n      return (isActiveUser) => {\n        const userStatus = this.getUserStatus(isActiveUser)\n\n        if (userStatus === 'online') {\n          return 'success'\n        } else if (userStatus === 'do not disturb') {\n          return 'danger'\n        } else if (userStatus === 'away') {\n          return 'warning'\n        } else {\n          return 'grey'\n        }\n      }\n    }\n  },\n  methods: {\n    getUserStatus (isActiveUser) {\n      //TODO\n      //return isActiveUser ? this.$store.state.AppActiveUser.status : this.userDetails.status\n      return isActiveUser ? true: false\n    }\n  }\n}\n\n</script>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatNavbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatNavbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatNavbar.vue?vue&type=template&id=dc57f648&\"\nimport script from \"./ChatNavbar.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatNavbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"parentx-demo-2\"}},[_c('vs-sidebar',{staticClass:\"items-no-padding\",attrs:{\"parent\":\"#chat-app\",\"position-right\":!_vm.isLoggedInUser,\"hidden-background\":false,\"id\":\"chat-profile-sidebar\"},model:{value:(_vm.activeLocal),callback:function ($$v) {_vm.activeLocal=$$v},expression:\"activeLocal\"}},[_c('div',{staticClass:\"header-sidebar relative flex flex-col p-0\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('feather-icon',{attrs:{\"icon\":\"XIcon\",\"svgClasses\":\"m-2 cursor-pointer absolute top-0 right-0\"},on:{\"click\":function($event){return _vm.$emit('closeProfileSidebar', false)}}}),_c('div',{staticClass:\"relative inline-flex mx-auto mb-5 mt-6\"},[_c('vs-avatar',{staticClass:\"m-0 border-white border-2 border-solid shadow-md\",attrs:{\"src\":_vm.chatUser.photoURL,\"size\":\"70px\"}}),_c('div',{staticClass:\"h-5 w-5 border-white border-2 border-solid rounded-full absolute right-0 bottom-0\",class:'bg-' + _vm.statusColor})],1),_c('h4',{staticClass:\"mr-2 self-center\"},[_vm._v(_vm._s(_vm.chatUser.displayName))])],1),_c(_vm.scrollbarTag,{key:_vm.$vs.rtl,tag:\"component\",staticClass:\"scroll-area\",attrs:{\"settings\":_vm.settings}},[_c('div',{staticClass:\"p-8\"},[_c('h6',{staticClass:\"mb-2\",class:{'ml-4': _vm.isLoggedInUser}},[_vm._v(\"About\")]),(_vm.isLoggedInUser)?_c('vs-textarea',{staticClass:\"mb-10\",attrs:{\"counter\":\"120\",\"maxlength\":\"120\",\"counter-danger\":_vm.counterDanger,\"rows\":\"5\"},on:{\"update:counterDanger\":function($event){_vm.counterDanger=$event},\"update:counter-danger\":function($event){_vm.counterDanger=$event}},model:{value:(_vm.about),callback:function ($$v) {_vm.about=$$v},expression:\"about\"}}):_c('p',[_vm._v(_vm._s(_vm.chatUser.about))]),(_vm.isLoggedInUser)?_c('div',{staticClass:\"userProfile__status\"},[_c('h6',{staticClass:\"mb-4\"},[_vm._v(\"Status\")]),_c('ul',[_c('li',{staticClass:\"mb-2\"},[_c('vs-radio',{attrs:{\"vs-value\":\"online\",\"color\":\"success\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_vm._v(\"Active\")])],1),_c('li',{staticClass:\"mb-2\"},[_c('vs-radio',{attrs:{\"vs-value\":\"do not disturb\",\"color\":\"danger\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_vm._v(\"Do Not Disturb\")])],1),_c('li',{staticClass:\"mb-2\"},[_c('vs-radio',{attrs:{\"vs-value\":\"away\",\"color\":\"warning\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_vm._v(\"Away\")])],1),_c('li',{staticClass:\"mb-2\"},[_c('vs-radio',{attrs:{\"vs-value\":\"offline\",\"color\":\"grey\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_vm._v(\"Offline\")])],1)])]):_vm._e()],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\n    File Name: UserProfile.vue\n    Description: user profile sidebar\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n<template>\n    <div id=\"parentx-demo-2\">\n\n        <vs-sidebar parent=\"#chat-app\" :position-right=\"!isLoggedInUser\" :hidden-background=\"false\" v-model=\"activeLocal\" id=\"chat-profile-sidebar\" class=\"items-no-padding\">\n\n            <div class=\"header-sidebar relative flex flex-col p-0\" slot=\"header\">\n                <feather-icon icon=\"XIcon\" svgClasses=\"m-2 cursor-pointer absolute top-0 right-0\" @click=\"$emit('closeProfileSidebar', false)\"></feather-icon>\n\n\n                <div class=\"relative inline-flex mx-auto mb-5 mt-6\">\n                    <vs-avatar class=\"m-0 border-white border-2 border-solid shadow-md\" :src=\"chatUser.photoURL\" size=\"70px\" />\n                    <div class=\"h-5 w-5 border-white border-2 border-solid rounded-full absolute right-0 bottom-0\" :class=\"'bg-' + statusColor\"></div>\n                </div>\n\n                <h4 class=\"mr-2 self-center\">{{ chatUser.displayName }}</h4>\n            </div>\n\n            <component :is=\"scrollbarTag\" class=\"scroll-area\" :settings=\"settings\" :key=\"$vs.rtl\">\n            <div class=\"p-8\">\n\n                <h6 class=\"mb-2\" :class=\"{'ml-4': isLoggedInUser}\">About</h6>\n                <vs-textarea class=\"mb-10\" counter=\"120\" maxlength=\"120\" :counter-danger.sync=\"counterDanger\" v-model=\"about\" rows=\"5\" v-if=\"isLoggedInUser\" />\n                <p v-else>{{ chatUser.about }}</p>\n\n                <div class=\"userProfile__status\" v-if=\"isLoggedInUser\">\n                    <h6 class=\"mb-4\">Status</h6>\n                    <ul>\n                        <li class=\"mb-2\">\n                            <vs-radio v-model=\"status\" vs-value=\"online\" color=\"success\">Active</vs-radio>\n                        </li>\n                        <li class=\"mb-2\">\n                            <vs-radio v-model=\"status\" vs-value=\"do not disturb\" color=\"danger\">Do Not Disturb</vs-radio>\n                        </li>\n                        <li class=\"mb-2\">\n                            <vs-radio v-model=\"status\" vs-value=\"away\" color=\"warning\">Away</vs-radio>\n                        </li>\n                        <li class=\"mb-2\">\n                            <vs-radio v-model=\"status\" vs-value=\"offline\" color=\"grey\">Offline</vs-radio>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            </component>\n        </vs-sidebar>\n    </div>\n</template>\n\n<script>\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\n\nexport default {\n  props: {\n    userId: {\n      type: Number,\n      required: true\n    },\n    active: {\n      type: Boolean,\n      required: true\n    },\n    isLoggedInUser: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data () {\n    return {\n      counterDanger: false,\n      settings: { // perfectscrollbar settings\n        maxScrollbarLength: 60,\n        wheelSpeed: .60\n      }\n    }\n  },\n  computed: {\n    chatUser () {\n      return this.$store.getters['chat/chatUser'](this.userId)\n    },\n    activeLocal: {\n      get ()      { return this.active },\n      set (value) { this.$emit('closeProfileSidebar', value) }\n    },\n    about: {\n      get ()      { return this.chatUser.about },\n      set (value) { this.$store.dispatch('updateUserInfo', { about: value }) }\n    },\n    status: {\n      get ()      { return this.chatUser.status },\n      set (value) { this.$store.dispatch('updateUserInfo', { status: value }) }\n    },\n    statusColor () {\n      const userStatus = this.chatUser.status\n\n      if (userStatus === 'online') {\n        return 'success'\n      } else if (userStatus === 'do not disturb') {\n        return 'danger'\n      } else if (userStatus === 'away') {\n        return 'warning'\n      } else {\n        return 'grey'\n      }\n    },\n    scrollbarTag () {\n      return this.$store.getters.scrollbarTag\n    }\n  },\n  components: {\n    VuePerfectScrollbar\n  }\n}\n\n</script>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfile.vue?vue&type=template&id=44f3d3ee&\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!-- =========================================================================================\n    File Name: Chat.vue\n    Description: Chat Application - Stay connected\n    ----------------------------------------------------------------------------------------\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\n      Author: Pixinvent\n    Author URL: http://www.themeforest.net/user/pixinvent\n========================================================================================== -->\n\n\n<template>\n    <div id=\"chat-app\" class=\"border border-solid d-theme-border-grey-light rounded relative overflow-hidden\">\n        <vs-sidebar class=\"items-no-padding\" parent=\"#chat-app\" :click-not-close=\"clickNotClose\" :hidden-background=\"clickNotClose\" v-model=\"isChatSidebarActive\" id=\"chat-list-sidebar\">\n\n            <!-- USER PROFILE SIDEBAR -->\n            <!-- 현재는 불필요 -->\n            <!-- <user-profile :active=\"activeProfileSidebar\" :userId=\"userProfileId\" class=\"user-profile-container\" :isLoggedInUser=\"isLoggedInUserProfileView\" @closeProfileSidebar=\"closeProfileSidebar\"></user-profile> -->\n\n            <div class=\"chat__profile-search flex p-4\">\n                <!-- <div class=\"relative inline-flex\">\n                    <vs-avatar v-if=\"activeUser.profileUrl\" class=\"m-0 border-2 border-solid border-white\" :src=\"activeUser.profileUrl\" size=\"40px\" @click=\"showProfileSidebar(Number(activeUser.uid), true)\" />\n                    <div class=\"h-3 w-3 border-white border border-solid rounded-full absolute right-0 bottom-0\" :class=\"'bg-' + getStatusColor(true)\"></div>\n                </div> -->\n                <vs-input icon-no-border icon=\"icon-search\" icon-pack=\"feather\" class=\"w-full mx-5 input-rounded-full\" placeholder=\"Search or start a new chat\" v-model=\"searchQuery\"/>\n\n                <feather-icon class=\"md:inline-flex lg:hidden -ml-3 cursor-pointer\" icon=\"XIcon\" @click=\"toggleChatSidebar(false)\" />\n            </div>\n\n            <vs-divider class=\"d-theme-border-grey-light m-0\" />\n            <component :is=\"scrollbarTag\" class=\"chat-scroll-area pt-4\" :settings=\"settings\" :key=\"$vs.rtl\">\n\n                <!-- ACTIVE CHATS LIST -->\n                <div class=\"chat__chats-list mb-8\">\n                    <h3 class=\"text-primary mb-5 px-4\">Chats</h3>\n                    <ul class=\"chat__active-chats bordered-items\">\n                        <li class=\"cursor-pointer\" v-for=\"(chatSession, index) in chatSessions\" :key=\"index\" @click=\"updateActiveChatSession(chatSession.id)\">\n                            <chat-session showLastMsg :chatSession=\"chatSession\" :lastMessaged=\"chatSession.updatedDtm\" \n                            :lastMessage=\"chatSession.lastMessage\" \n                            :isActiveChatSession=\"isActiveChatSession(chatSession.id)\"></chat-session>\n                        </li>\n                    </ul>\n                </div>\n\n\n                <!-- CONTACTS LIST -->\n                <!-- <div class=\"chat__contacts\">\n                    <h3 class=\"text-primary mb-5 px-4\">Contacts</h3>\n                    <ul class=\"chat__contacts bordered-items\">\n                        <li class=\"cursor-pointer\" v-for=\"contact in contacts\" :key=\"contact.uid\" @click=\"updateactiveChatSession(contact.uid)\">\n                            <chat-contact :contact=\"contact\"></chat-contact>\n                        </li>\n                    </ul>\n                </div> -->\n            </component>\n        </vs-sidebar>\n\n        <!-- RIGHT COLUMN -->\n        <div class=\"chat__bg no-scroll-content chat-content-area border border-solid d-theme-border-grey-light border-t-0 border-r-0 border-b-0\" \n          :class=\"{'sidebar-spacer--wide': clickNotClose, 'flex items-center justify-center': activeChatSession === null}\">\n            <template v-if=\"activeChatSession\">\n                <div class=\"chat__navbar\">\n                    <chat-navbar :isSidebarCollapsed=\"!clickNotClose\" :chatSessionId=\"activeChatSession.id\" :isPinnedProp=\"isChatPinned\" @openContactsSidebar=\"toggleChatSidebar(true)\" @showProfileSidebar=\"showProfileSidebar\" @toggleIsChatPinned=\"toggleIsChatPinned\"></chat-navbar>\n                </div>\n                <component :is=\"scrollbarTag\" class=\"chat-content-scroll-area border border-solid d-theme-border-grey-light\" :settings=\"settings\" ref=\"chatLogPS\" :key=\"$vs.rtl\">\n                    <div class=\"chat__log\" ref=\"chatLog\">\n                        <chat-log :chatSession=\"activeChatSession\" v-if=\"activeChatSession\"></chat-log>\n                    </div>\n                </component>\n                <div v-if=\"(hasChatConsultDetails && (activeChatSession.agentId === activeUser.agentId))\" class=\"chat__input flex p-4 bg-white\">\n                    <vs-input class=\"flex-1\" placeholder=\"Type Your Message\" v-model=\"typedMessage\" @keyup.enter=\"sendMsg\" />\n                    <vs-button class=\"bg-primary-gradient ml-4\" type=\"filled\" @click=\"sendMsg\">Send</vs-button>\n                </div>\n                <div v-else-if=\"(hasChatConsultDetails && (activeChatSession.agentId !== activeUser.agentId))\" class=\"chat__input flex p-4\">\n                </div>\n                <div v-else class=\"chat__input flex p-4 bg-white\">\n                    <!-- <vs-input class=\"flex-1\" placeholder=\"Type Your Message\" v-model=\"typedMessage\" @keyup.enter=\"sendMsg\" /> -->\n                    <vs-button class=\"bg-primary-gradient ml-4\" type=\"filled\" @click=\"takeChatSession\">Pick this chat</vs-button>\n                </div>\n            </template>\n            <template v-else>\n                <!-- <div class=\"flex flex-col items-center\">\n                    <feather-icon icon=\"MessageSquareIcon\" class=\"mb-4 bg-white p-8 shadow-md rounded-full\" svgClasses=\"w-16 h-16\"></feather-icon>\n                    <h4 class=\" py-2 px-4 bg-white shadow-md rounded-full cursor-pointer\" @click.stop=\"toggleChatSidebar(true)\">Start Conversation</h4>\n                </div> -->\n            </template>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ChatContact         from './ChatContact.vue'\nimport ChatLog             from './ChatLog.vue'\nimport ChatNavbar          from './ChatNavbar.vue'\nimport UserProfile         from './UserProfile.vue'\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\n//import moduleChat          from '@/store/chat/moduleChat.js'\nimport ChatSession         from './ChatSession.vue'\n\nexport default {\n  data () {\n    return {\n      active               : true,\n      isHidden             : false,\n      searchContact        : '',\n      activeProfileSidebar : false,\n      activeChatSession    : null,\n      userProfileId        : -1,\n      typedMessage         : '',\n      isChatPinned         : false,\n      settings             : {\n        maxScrollbarLength : 60,\n        wheelSpeed         : 0.70\n      },\n      clickNotClose        : true,\n      isChatSidebarActive  : true,\n      isLoggedInUserProfileView: false\n    }\n  },\n  watch: {\n    windowWidth () {\n      this.setSidebarWidth()\n    }\n  },\n  computed: {\n    // chatLastMessaged () {\n    //   return (userId) => this.$store.getters['chat/chatLastMessaged'](userId)\n    // },\n    // chatUnseenMessages () {\n    //   return (userId) => {\n    //     const unseenMsg = this.$store.getters['chat/chatUnseenMessages'](userId)\n    //     if (unseenMsg) return unseenMsg\n    //   }\n    // },\n    activeUser () {\n      return this.$store.state.AppActiveUser\n    },\n    getStatusColor () {\n      return (isActiveUser) => {\n        const userStatus = this.getUserStatus(isActiveUser)\n\n        if (userStatus === 'online') {\n          return 'success'\n        } else if (userStatus === 'do not disturb') {\n          return 'danger'\n        } else if (userStatus === 'away') {\n          return 'warning'\n        } else {\n          return 'grey'\n        }\n      }\n    },\n    // chatContacts () {\n    //   return this.$store.getters['chat/chatContacts']\n    // },\n    // contacts () {\n    //   return this.$store.getters['chat/contacts']\n    // },\n    searchQuery: {\n      get () {\n        return this.$store.state.chat.chatSearchQuery\n      },\n      set (val) {\n        this.$store.dispatch('chat/setChatSearchQuery', val)\n      }\n    },\n    scrollbarTag () {\n      return this.$store.getters.scrollbarTag\n    },\n    isActiveChatSession () {\n      return (chatSessionId) => this.activeChatSession && (chatSessionId === this.activeChatSession.id) \n    },\n    hasChatConsultDetails() {\n      return this.activeChatSession['chatConsultDetails']\n    },\n    windowWidth () {\n      return this.$store.state.windowWidth\n    },\n    chatSessions () {\n      return this.$store.state.chat.chatSessions\n    },\n  },\n  methods: {\n    getUserStatus (isActiveUser) {\n      // return \"active\"\n      return isActiveUser ? this.$store.state.AppActiveUser.status : this.contacts[this.activeChatSession].status\n    },\n    closeProfileSidebar (value) {\n      this.activeProfileSidebar = value\n    },\n    // chatSession을 열기\n    updateActiveChatSession (sessionId) {\n      this.activeChatSession = this.$store.getters['chat/chatSession'](sessionId)\n      const activeChatId = this.activeChatSession['chatConsultDetails']?this.activeChatSession.chatConsultDetails.id:null\n      if (activeChatId) {\n        this.$store.dispatch('chat/getMessagesByChatConsultDetails', { 'chatId': activeChatId })\n        this.$store.dispatch('chat/setMessagesAlreadyRead', { 'chatId': activeChatId })\n      } else {\n        this.$store.dispatch('chat/fetchWaitingMessageQueue', { 'chatSession': this.activeChatSession })\n      }\n      const chatData = this.$store.getters['chat/chatMessagesOfChatId'](activeChatId)\n      if (chatData) this.isChatPinned = chatData.isPinned\n      else this.isChatPinned = false\n      this.toggleChatSidebar()\n      this.typedMessage = ''\n    },\n    showProfileSidebar (userId, openOnLeft = false) {\n      this.userProfileId = userId\n      this.isLoggedInUserProfileView = openOnLeft\n      this.activeProfileSidebar = !this.activeProfileSidebar\n    },\n    sendMsg () {\n      if (!this.typedMessage) return\n      const chatConsultDetails = this.activeChatSession['chatConsultDetails']?this.activeChatSession.chatConsultDetails:null\n      const payload = {\n        //'isPinned': this.isChatPinned,\n        'msg': this.typedMessage,\n        'chatConsultDetails': chatConsultDetails\n      }\n      this.$store.dispatch('chat/sendMessageToNexmo', payload)\n      this.typedMessage = ''\n\n      const scroll_el = this.$refs.chatLogPS.$el || this.$refs.chatLogPS\n      scroll_el.scrollTop = this.$refs.chatLog.scrollHeight\n    },\n    takeChatSession () {\n      this.$store.dispatch('chat/takeWaitingSessionForChat', { 'chatSession': this.activeChatSession, 'agentId':this.$store.state.AppActiveUser.agentId } )\n    },\n    toggleIsChatPinned (value) {\n      this.isChatPinned = value\n    },\n    setSidebarWidth () {\n      if (this.windowWidth < 1200) {\n        this.isChatSidebarActive = this.clickNotClose = false\n      } else {\n        this.isChatSidebarActive = this.clickNotClose = true\n      }\n    },\n    toggleChatSidebar (value = false) {\n      if (!value && this.clickNotClose) return\n      this.isChatSidebarActive = value\n    }\n  },\n  components: {\n    VuePerfectScrollbar,\n    ChatContact,\n    UserProfile,\n    ChatNavbar,\n    ChatLog,\n    ChatSession\n  },\n  created () {\n    // console.log(\"registerModule chat: \"+moduleChat.isRegistered)\n    // this.$store.dispatch('chat/fetchContacts')\n    // this.$store.dispatch('chat/fetchChatContacts')\n    // this.$store.dispatch('chat/fetchChats')\n    ////////////////////////////////\n    this.$store.dispatch('chat/fetchChatSessionStatus')\n    this.setSidebarWidth()\n  },\n  beforeDestroy () {\n    this.$stomp.disconnect()\n    // console.log(\"unregisterModule chat\")\n  },\n  mounted () {\n    this.$store.dispatch('chat/setChatSearchQuery', '')\n    this.$stomp.connect()\n  }\n}\n\n</script>\n\n\n<style lang=\"scss\">\n@import \"@/assets/scss/vuexy/apps/chat.scss\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=1f258e22&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}