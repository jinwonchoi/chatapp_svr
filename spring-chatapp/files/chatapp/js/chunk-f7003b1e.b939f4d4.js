(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7003b1e","chunk-6d39e6de","chunk-2d0bac2d"],{"38ae":function(t,e,o){},"391b":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("vs-prompt",{staticClass:".notice-dialog",attrs:{title:"Edit Notice","accept-text":"Save","cancel-text":"Close","button-cancel":"border","is-valid":t.validateForm,active:t.activePrompt},on:{accept:t.saveNotice,close:t.init,"update:active":function(e){t.activePrompt=e}}},[o("div",[o("form",[o("div",{staticClass:"vx-row"},[o("div",{staticClass:"vx-col flex"},[o("vs-dropdown",{staticClass:"cursor-pointer flex",attrs:{"vs-custom-content":""}},[o("a",{staticClass:"flex items-center",attrs:{href:"#"}},[o("vs-chip",[o("div",{staticClass:"h-2 w-2 rounded-full mr-1",class:"bg-"+t.postTypeColor}),o("span",[t._v(t._s(t.postType))])]),o("i",{staticClass:"material-icons"},[t._v("expand_more")])],1),o("vs-dropdown-menu",{staticStyle:{"z-index":"200001"}},t._l(t.noticeTypes,(function(e,i){return o("vs-dropdown-item",{key:i,on:{click:function(o){return t.updateNoticeType(e.type)}}},[t._v("\n                            "+t._s(e.name)+"\n                        ")])})),1)],1)],1),o("div",{staticClass:"vx-col ml-auto flex dropdown-button-container"},[o("p",[t._v(t._s(t.toLocale(t.noticeLocal.updatedDtm))+" "),o("span",[o("br"),t._v(" by "+t._s(t.noticeLocal.registerUserInfo?t.noticeLocal.registerUserInfo.userName:"None"))])])])]),o("div",{staticClass:"vx-row"},[o("div",{staticClass:"vx-col w-full notice-content"},[o("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full mb-4 mt-5",attrs:{name:"title",placeholder:"Title"},model:{value:t.noticeLocal.title,callback:function(e){t.$set(t.noticeLocal,"title",e)},expression:"noticeLocal.title"}}),o("vs-textarea",{attrs:{rows:"5",label:"Add description"},model:{value:t.noticeLocal.content,callback:function(e){t.$set(t.noticeLocal,"content",e)},expression:"noticeLocal.content"}})],1)])])])])},n=[],s={props:{showEdit:{type:Boolean,required:!0},noticeData:{type:Object,required:!0}},data:function(){return{noticeLocal:Object.assign({},this.noticeData)}},computed:{activePrompt:{get:function(){return this.showEdit},set:function(t){this.$emit("hideEdit",t)}},toLocale:function(){return function(t){return new Date(t).toLocaleString()}},noticeTypes:function(){return this.$store.state.noticeBoard.noticeTypes},postType:function(){var t=this.noticeLocal.postType;return"S"===t?"Schedule":"U"===t?"Urgent":"W"===t?"Biz":"Normal"},postTypeColor:function(){var t=this.noticeLocal.postType;return"S"===t?"primary":"U"===t?"danger":"W"===t?"warning":"success"},validateForm:function(){return!this.errors.any()&&""!==this.noticeLocal.title}},methods:{removeNotice:function(){var t=this;this.$store.dispatch("noticeBoard/deleteNotice",this.noticeLocal.id).then((function(){t.$store.dispatch("noticeBoard/fetchNotices",t.$store.state.noticeBoard.queryParam)})).catch((function(t){console.error(t)}))},init:function(){console.log("init")},saveNotice:function(){this.$store.dispatch("noticeBoard/updateNotice",this.noticeLocal)},updateNoticeType:function(t){this.noticeLocal.postType=t}},created:function(){}},a=s,c=o("2877"),r=Object(c["a"])(a,i,n,!1,null,null,null);e["default"]=r.exports},5302:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("vs-prompt",{staticClass:".notice-dialog",attrs:{title:t.noticeLocal.title,"cancel-text":"Close","buttons-hidden":!0,active:t.activePrompt},on:{close:t.init,"update:active":function(e){t.activePrompt=e}}},[o("div",[o("form",[o("div",{staticClass:"vx-row"},[o("div",{staticClass:"vx-col flex"},[o("vs-chip",[o("div",{staticClass:"h-2 w-2 rounded-full mr-1",class:"bg-"+t.postTypeColor(t.noticeLocal.postType)}),o("span",[t._v(t._s(t._f("capitalize")(t.postType(t.noticeLocal.postType))))])])],1),o("div",{staticClass:"vx-col ml-auto flex"},[o("p",[t._v(t._s(t.toLocale(t.noticeLocal.updatedDtm))+" "),o("br"),o("span",[t._v(" by "+t._s(t.noticeLocal.registerUserInfo?t.noticeLocal.registerUserInfo.userName:"None")+" ")])])])]),o("div",{staticClass:"vx-row"},[o("div",{staticClass:"vx-col w-full notice-content"},[o("vs-divider"),o("vs-textarea",{attrs:{rows:t.noticeLocal.content.split("\n").length,readonly:""},model:{value:t.noticeLocal.content,callback:function(e){t.$set(t.noticeLocal,"content",e)},expression:"noticeLocal.content"}})],1)])])])])},n=[],s=(o("c5f6"),{props:{showView:{type:Boolean,required:!0},noticeId:{type:Number,required:!0}},data:function(){return{noticeLocal:Object.assign({},this.$store.getters["noticeBoard/getNotice"](this.noticeId))}},computed:{activePrompt:{get:function(){return this.showView},set:function(t){this.$emit("hideView",t)}},toLocale:function(){return function(t){return new Date(t).toLocaleString()}},postType:function(){return function(t){return"S"===t?"Schedule":"U"===t?"Urgent":"W"===t?"Biz":"Normal"}},postTypeColor:function(){return function(t){return"S"===t?"primary":"U"===t?"danger":"W"===t?"warning":"success"}}},methods:{init:function(){this.noticeLocal=Object.assign({},this.$store.getters["noticeBoard/getNotice"](this.noticeId))}}}),a=s,c=(o("c13f"),o("2877")),r=Object(c["a"])(a,i,n,!1,null,null,null);e["default"]=r.exports},"6ef9":function(t,e,o){},"832a":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"data-list-container",attrs:{id:"data-list-list-view"}},[o("vs-table",{attrs:{sst:!0,total:t.totalCount,"max-items":"pageSize",data:t.notices},on:{"change-page":t.handleChangePage,sort:t.handleSort},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return[o("tbody",t._l(i,(function(e,n){return o("vs-tr",{key:n,attrs:{data:e}},[o("vs-td",{staticClass:"main-title",attrs:{data:i[n].updatedDtm}},[o("div",{on:{click:function(e){return t.viewData(i[n].id)}}},[o("p",{staticClass:"updated-dtm font-light truncate"},[t._v(t._s(t.toLocale(i[n].updatedDtm))+" "),o("span",[t._v("by "+t._s(i[n].registerUserInfo?i[n].registerUserInfo.userName:"None")+" ")])]),o("br"),o("vs-chip",[o("div",{staticClass:"h-2 w-2 rounded-full mr-1",class:"bg-"+t.postTypeColor(i[n].postType)}),o("span",[t._v(t._s(t._f("capitalize")(t.postType(i[n].postType))))])]),o("p",{staticClass:"notice-title font-medium truncate"},[t._v(t._s(i[n].title))])],1)]),o("vs-td",{staticClass:"whitespace-no-wrap"},[o("feather-icon",{attrs:{icon:"EditIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(o){return o.stopPropagation(),t.editData(e)}}}),o("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(o){return o.stopPropagation(),t.deleteData(e.id)}}})],1)],1)})),1),[o("vs-pagination",{attrs:{total:t.totalPages,max:t.pageSize},on:{input:t.handleChangePage},model:{value:t.pageNo,callback:function(e){t.pageNo=e},expression:"pageNo"}})]]}}])},[o("div",{staticClass:"flex-grow",attrs:{slot:"header"},slot:"header"},[o("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[o("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[o("span",{staticClass:"mr-2"},[t._v(t._s(t.pageNo*t.pageSize-(t.pageSize-1))+" - "+t._s(t.totalCount-t.pageNo*t.pageSize>0?t.pageNo*t.pageSize:t.totalCount)+" of "+t._s(t.totalCount))]),o("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),o("vs-dropdown-menu",[o("vs-dropdown-item",{on:{click:function(e){return t.gridApi.paginationSetPageSize(10)}}},[o("span",[t._v("10")])]),o("vs-dropdown-item",{on:{click:function(e){return t.gridApi.paginationSetPageSize(20)}}},[o("span",[t._v("20")])]),o("vs-dropdown-item",{on:{click:function(e){return t.gridApi.paginationSetPageSize(25)}}},[o("span",[t._v("25")])]),o("vs-dropdown-item",{on:{click:function(e){return t.gridApi.paginationSetPageSize(30)}}},[o("span",[t._v("30")])])],1)],1)],1),o("div",{staticClass:"flex flex-wrap items-center data-list-btn-container",attrs:{slot:"header"},slot:"header"},[o("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"Search..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSearchQuery(e)}},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),o("div",{staticClass:"btn-add-new p-2 ml-4 mr-4 rounded-lg cursor-pointer flex items-center justify-center text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:t.addNewData}},[o("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),o("span",{staticClass:"ml-2 text-base text-primary"},[t._v("Add New")])],1)],1),o("template",{slot:"thead"},[o("vs-th",{attrs:{"sort-key":"updatedDtm"}},[t._v("Updated")])],1)],2),t.showView?o("notice-view",{attrs:{showView:t.showView,noticeId:t.noticeIdToView},on:{hideView:t.hideView}}):t._e(),t.showEdit?o("notice-edit",{attrs:{showEdit:t.showEdit,noticeData:t.popupData},on:{hideEdit:t.hideEdit}}):t._e(),t.showAdd?o("notice-add",{attrs:{showAdd:t.showAdd},on:{hideAdd:t.hideAdd}}):t._e()],1)},n=[],s=o("5302"),a=o("391b"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("vs-prompt",{staticClass:".notice-dialog",attrs:{title:"Add Notice","accept-text":"Save","cancel-text":"Close","button-cancel":"border","is-valid":t.validateForm,active:t.activePrompt},on:{cancel:t.clearFields,accept:t.saveNotice,close:t.clearFields,"update:active":function(e){t.activePrompt=e}}},[o("div",[o("form",[o("div",{staticClass:"vx-row"},[o("div",{staticClass:"vx-col flex"},[o("vs-dropdown",{staticClass:"cursor-pointer flex",attrs:{"vs-custom-content":""}},[o("a",{staticClass:"flex items-center",attrs:{href:"#"}},[o("vs-chip",[o("div",{staticClass:"h-2 w-2 rounded-full mr-1",class:"bg-"+t.postTypeColor}),o("span",[t._v(t._s(t.postType))])]),o("i",{staticClass:"material-icons"},[t._v("expand_more")])],1),o("vs-dropdown-menu",{staticStyle:{"z-index":"200001"}},t._l(t.noticeTypes,(function(e,i){return o("vs-dropdown-item",{key:i,on:{click:function(o){return t.updateNoticeType(e.type)}}},[t._v("\n                            "+t._s(e.name)+"\n                        ")])})),1)],1)],1)]),o("div",{staticClass:"vx-row"},[o("div",{staticClass:"vx-col w-full notice-content"},[o("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full mb-4 mt-5",attrs:{name:"title",placeholder:"Title"},model:{value:t.noticeLocal.title,callback:function(e){t.$set(t.noticeLocal,"title",e)},expression:"noticeLocal.title"}}),o("vs-textarea",{attrs:{rows:"5",label:"Add description"},model:{value:t.noticeLocal.content,callback:function(e){t.$set(t.noticeLocal,"content",e)},expression:"noticeLocal.content"}})],1)])])])])},r=[],l={props:{showAdd:{type:Boolean,required:!0}},data:function(){return{noticeLocal:{title:"",content:"",registerId:this.$store.state.AppActiveUser.uid,postType:"N",postLevel:0,refId:0}}},computed:{activePrompt:{get:function(){return this.showAdd},set:function(t){this.$emit("hideAdd",t)}},toLocale:function(){return function(t){return new Date(t).toLocaleString()}},noticeTypes:function(){return this.$store.state.noticeBoard.noticeTypes},postType:function(){var t=this.noticeLocal.postType;return"S"===t?"Schedule":"U"===t?"Urgent":"W"===t?"Biz":"Normal"},postTypeColor:function(){var t=this.noticeLocal.postType;return"S"===t?"primary":"U"===t?"danger":"W"===t?"warning":"success"},validateForm:function(){return!this.errors.any()&&""!==this.noticeLocal.title}},methods:{clearFields:function(){Object.assign(this.noticeLocal,{title:"",content:"",registerId:this.$store.AppActiveUser.uid,postType:"N",postLevel:0,refId:0})},saveNotice:function(){var t=this;this.$store.dispatch("noticeBoard/addNotice",this.noticeLocal).then((function(){t.$store.dispatch("noticeBoard/fetchNotices",t.$store.state.noticeBoard.queryParam)})).catch((function(t){console.error(t)}))},updateNoticeType:function(t){this.noticeLocal.postType=t}}},d=l,u=o("2877"),p=Object(u["a"])(d,c,r,!1,null,null,null),h=p.exports,f={components:{NoticeView:s["default"],NoticeEdit:a["default"],NoticeAdd:h},data:function(){return{selected:[],pageSize:7,pageNo:1,totalPages:0,searchQuery:"",sortDir:"ASC",sortField:"",currentx:5,showView:!1,showEdit:!1,showAdd:!1,noticeIdToView:0,popupData:{},components:{}}},watch:{},computed:{notices:function(){return this.$store.state.noticeBoard.notices},totalCount:function(){return this.$store.state.noticeBoard.totalCount},toLocale:function(){return function(t){return new Date(t).toLocaleString()}},postType:function(){return function(t){return"S"===t?"Schedule":"U"===t?"Urgent":"W"===t?"Biz":"Normal"}},postTypeColor:function(){return function(t){return"S"===t?"primary":"U"===t?"danger":"W"===t?"warning":"success"}}},methods:{addNewData:function(){this.showAdd=!0},hideAdd:function(){this.showAdd=!1},deleteData:function(t){var e=this;console.log("deleteData"),this.$store.dispatch("noticeBoard/deleteNotice",t).then((function(){e.$store.dispatch("noticeBoard/fetchNotices",e.$store.state.noticeBoard.queryParam)})).catch((function(t){console.error(t)}))},editData:function(t){this.popupData=t,this.showEdit=!0},hideEdit:function(){this.showEdit=!1},viewData:function(t){this.noticeIdToView=t,this.showView=!0},hideView:function(){this.showView=!1},getOrderStatusColor:function(t){return"on_hold"===t?"warning":"delivered"===t?"success":"canceled"===t?"danger":"primary"},getPopularityColor:function(t){return t>90?"success":t>70?"primary":t>=50?"warning":t<50?"danger":"primary"},doSearchQuery:function(){this.listNotices()},entered:function(){console.log("entered")},handleSearch:function(t){console.log("handleSearch"),console.log("this.$store.state.noticeBoard.totalPage :"+this.$store.state.noticeBoard.totalPage),this.searchQuery=t,this.listNotices()},handleChangePage:function(t){console.log("handleChangePage"),console.log(t),this.pageNo=t,this.listNotices()},handleSort:function(t,e){this.sortDir=e?"ASC":"DESC",this.sortField=t,this.listNotices()},listNotices:function(){var t=this;console.log("listNotices"),this.$store.dispatch("noticeBoard/fetchNotices",{pageNo:this.pageNo,pageSize:this.pageSize,sortDir:this.sortDir,sortField:"id"|this.sortField,searchByOrMap:this.searchQuery?{content:this.searchQuery,title:this.searchQuery}:{}}).then((function(){console.log("this.$store.state.noticeBoard.totalPage:"+t.$store.state.noticeBoard.totalPage),t.totalPages=t.$store.state.noticeBoard.totalPage})).catch((function(t){console.error(t)}))}},mounted:function(){this.isMounted=!0},created:function(){console.log("created"),this.listNotices()}},v=f,m=(o("bd66"),Object(u["a"])(v,i,n,!1,null,null,null));e["default"]=m.exports},bd66:function(t,e,o){"use strict";var i=o("6ef9"),n=o.n(i);n.a},c13f:function(t,e,o){"use strict";var i=o("38ae"),n=o.n(i);n.a}}]);
//# sourceMappingURL=chunk-f7003b1e.b939f4d4.js.map